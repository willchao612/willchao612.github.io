---
layout: post
title: 'FFmpeg Tricks'
subtitle: ''
author: 'Will'
header-style: text
lang: en
tags:
  - FFmpeg
  - Tricks
  - 笔记
---

## Scenarios

1. Generate gif

```bash
ffmpeg -i <input_file> -ss <start_time> -t <length> -vf "fps=15,scale=-1:360:flags=spline,split[a][b];[a]palettegen[p];[b][p]paletteuse" <output_file>
```

2. Concatenate

> Re-encoding

```bash
ffmpeg -i <input_file> -i <input_file> -filter_complex "[0:v:0][0:a:0][1:v:0][1:a:0]concat=n=2:v=1:a=1[v][a]" -map "[v]" -map "[a]" <output_file>
```

> No re-encoding

```bash
ffmpeg -f concat -safe 0 -i <(for f in ./*.mp4; do echo "file '$PWD/$f'"; done) -c copy <output_file>
```

3. Trim

```bash
ffmpeg -i <input_file> -ss <start_time> -to <end_time> -c copy <output_file>
```
